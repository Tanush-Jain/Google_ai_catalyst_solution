{
  "name": "SentinelLLM - High Latency Detection",
  "type": "metric alert",
  "query": "avg(last_5m):avg:sentinel_llm_request_latency{*} > 5000",
  "message": "ALERT: High latency detected!\n\n{{#is_alert}}\nAverage request latency is {{value}}ms, which exceeds the 5 second threshold.\n\nThis could indicate:\n- Vertex AI API performance degradation\n- Network connectivity issues\n- Resource constraints (CPU, memory)\n- Configuration issues (timeout, concurrency)\n\nCurrent Status:\n- Average Latency: {{value}}ms\n- Request Rate: {{requests_rate}} requests/sec\n- Error Rate: {{error_rate}} errors/sec\n\nRecommended Actions:\n1. Check Vertex AI service status\n2. Review recent deployment changes\n3. Monitor system resource usage\n4. Consider implementing timeout adjustments\n5. Scale up resources if needed\n\nRequest ID: {{event.tags.request_id}}\nService: {{service}}\n{{/is_alert}}",
  "tags": [
    "service:sentinel-llm",
    "alert_type:performance",
    "severity:medium"
  ],
  "priority": "medium",
  "renotify_interval": 60,
  "timeout_h": 0,
  "include_no_data": false,
  "no_data_timeframe": null,
  "notify_no_data": false,
  "renotify_evaluation_delay": 0,
  "require_full_window": true,
  "new_group_delay": 0,
  "evaluation_delay": 0,
  "id": "latency_monitor",
  "silenced": {},
  "options": {
    "threshold_days": 0,
    "include_no_data": false,
    "no_data_timeframe": null,
    "notify_no_data": false,
    "renotify_interval": "60",
    "timeout_h": 0,
    "include_tags": true,
    "require_full_window": true,
    "new_host_delay": 0,
    "evaluation_delay": 0,
    "low_quiet_alerts": false,
    "notify_audit": false,
    "locked": false,
    "include_all_custom_scorecard_metrics": true,
    "custom_scorecard_slow_endpoints": true
  }
}

